{"ast":null,"code":"import { firebase, auth, db } from \"../config/firebase\";\nexport default function googleAuth() {\n  auth.signInWithPopup(new firebase.auth.GoogleAuthProvider()).then(function (result) {\n    db.collection(\"Users\").doc(result.user.uid).get().then(function (doc) {\n      if (!doc.exists) {\n        console.log(\"Document data:\", doc.data());\n        db.collection(\"Users\").doc(result.user.uid).set({\n          email: result.additionalUserInfo.profile.email,\n          name: result.additionalUserInfo.profile.given_name,\n          surname: result.additionalUserInfo.profile.family_name,\n          addresses: [],\n          cart: {},\n          favorites: [],\n          orders: [],\n          phoneNumber: \"\",\n          photoUrl: null\n        });\n      }\n    });\n  })[\"catch\"](function (error) {\n    console.log(error);\n  });\n}","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ASTRO/firebase/google-auth.js"],"names":["firebase","auth","db","googleAuth","signInWithPopup","GoogleAuthProvider","then","result","collection","doc","user","uid","get","exists","console","log","data","set","email","additionalUserInfo","profile","name","given_name","surname","family_name","addresses","cart","favorites","orders","phoneNumber","photoUrl","error"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,IAAnB,EAAyBC,EAAzB,QAAmC,oBAAnC;AAEA,eAAe,SAASC,UAAT,GAAsB;AACnCF,EAAAA,IAAI,CACDG,eADH,CACmB,IAAIJ,QAAQ,CAACC,IAAT,CAAcI,kBAAlB,EADnB,EAEGC,IAFH,CAEQ,UAAUC,MAAV,EAAkB;AACtBL,IAAAA,EAAE,CAACM,UAAH,CAAc,OAAd,EACGC,GADH,CACOF,MAAM,CAACG,IAAP,CAAYC,GADnB,EAEGC,GAFH,GAGGN,IAHH,CAGQ,UAACG,GAAD,EAAS;AACb,UAAI,CAACA,GAAG,CAACI,MAAT,EAAiB;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BN,GAAG,CAACO,IAAJ,EAA9B;AACAd,QAAAA,EAAE,CAACM,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BF,MAAM,CAACG,IAAP,CAAYC,GAAvC,EAA4CM,GAA5C,CAAgD;AAC9CC,UAAAA,KAAK,EAAEX,MAAM,CAACY,kBAAP,CAA0BC,OAA1B,CAAkCF,KADK;AAE9CG,UAAAA,IAAI,EAAEd,MAAM,CAACY,kBAAP,CAA0BC,OAA1B,CAAkCE,UAFM;AAG9CC,UAAAA,OAAO,EAAEhB,MAAM,CAACY,kBAAP,CAA0BC,OAA1B,CAAkCI,WAHG;AAI9CC,UAAAA,SAAS,EAAE,EAJmC;AAK9CC,UAAAA,IAAI,EAAE,EALwC;AAM9CC,UAAAA,SAAS,EAAE,EANmC;AAO9CC,UAAAA,MAAM,EAAE,EAPsC;AAQ9CC,UAAAA,WAAW,EAAE,EARiC;AAS9CC,UAAAA,QAAQ,EAAE;AAToC,SAAhD;AAWD;AACF,KAlBH;AAmBD,GAtBH,WAuBS,UAAUC,KAAV,EAAiB;AACtBjB,IAAAA,OAAO,CAACC,GAAR,CAAYgB,KAAZ;AACD,GAzBH;AA0BD","sourcesContent":["import { firebase, auth, db } from \"../config/firebase\";\n\nexport default function googleAuth() {\n  auth\n    .signInWithPopup(new firebase.auth.GoogleAuthProvider())\n    .then(function (result) {\n      db.collection(\"Users\")\n        .doc(result.user.uid)\n        .get()\n        .then((doc) => {\n          if (!doc.exists) {\n            console.log(\"Document data:\", doc.data());\n            db.collection(\"Users\").doc(result.user.uid).set({\n              email: result.additionalUserInfo.profile.email,\n              name: result.additionalUserInfo.profile.given_name,\n              surname: result.additionalUserInfo.profile.family_name,\n              addresses: [],\n              cart: {},\n              favorites: [],\n              orders: [],\n              phoneNumber: \"\",\n              photoUrl: null,\n            });\n          }\n        });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n}\n"]},"metadata":{},"sourceType":"module"}