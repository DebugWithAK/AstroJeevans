{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ASTRO\\\\firebase\\\\context.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState, useEffect, useContext, createContext } from \"react\";\nimport { firebase, auth, db } from \"../config/firebase\";\nvar authContext = /*#__PURE__*/createContext();\nexport function AuthProvider(_ref) {\n  _s();\n\n  var children = _ref.children;\n  var auth = useProvideAuth();\n  return __jsx(authContext.Provider, {\n    value: auth,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 10\n    }\n  }, children);\n}\n\n_s(AuthProvider, \"XNU4Jn8u4aVzJknlKOHFJq03xMo=\", false, function () {\n  return [useProvideAuth];\n});\n\n_c = AuthProvider;\nexport var useAuth = function useAuth() {\n  _s2();\n\n  console.log(\"useAuth\");\n  return useContext(authContext);\n};\n\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\n\nfunction useProvideAuth() {\n  _s3();\n\n  var _useState = useState(null),\n      user = _useState[0],\n      setUser = _useState[1];\n\n  var _useState2 = useState(true),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var getCurrentUser = function getCurrentUser() {\n    var _auth$currentUser;\n\n    ((_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.uid) ? db.collection(\"Users\").doc(auth.currentUser.uid).get().then(function (doc) {\n      setUser(doc.data());\n      setLoading(false);\n    }) : setLoading(false);\n  };\n\n  useEffect(function () {\n    var unsubscribe = firebase.auth().onAuthStateChanged(function () {\n      return getCurrentUser();\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n  return {\n    user: user,\n    loading: loading,\n    setUser: setUser\n  };\n}\n\n_s3(useProvideAuth, \"NiO5z6JIqzX62LS5UWDgIqbZYyY=\");\n\nvar _c;\n\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ASTRO/firebase/context.js"],"names":["React","useState","useEffect","useContext","createContext","firebase","auth","db","authContext","AuthProvider","children","useProvideAuth","useAuth","console","log","user","setUser","loading","setLoading","getCurrentUser","currentUser","uid","collection","doc","get","then","data","unsubscribe","onAuthStateChanged"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,EAAiDC,aAAjD,QAAsE,OAAtE;AACA,SAASC,QAAT,EAAmBC,IAAnB,EAAyBC,EAAzB,QAAmC,oBAAnC;AAEA,IAAMC,WAAW,gBAAGJ,aAAa,EAAjC;AACA,OAAO,SAASK,YAAT,OAAoC;AAAA;;AAAA,MAAZC,QAAY,QAAZA,QAAY;AACzC,MAAMJ,IAAI,GAAGK,cAAc,EAA3B;AACA,SAAO,MAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAEL,IAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCI,QAApC,CAAP;AACD;;GAHeD,Y;UACDE,c;;;KADCF,Y;AAIhB,OAAO,IAAMG,OAAO,GAAG,SAAVA,OAAU,GAAM;AAAA;;AAC3BC,EAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,SAAOX,UAAU,CAACK,WAAD,CAAjB;AACD,CAHM;;IAAMI,O;;AAIb,SAASD,cAAT,GAA0B;AAAA;;AAAA,kBACAV,QAAQ,CAAC,IAAD,CADR;AAAA,MACjBc,IADiB;AAAA,MACXC,OADW;;AAAA,mBAEMf,QAAQ,CAAC,IAAD,CAFd;AAAA,MAEjBgB,OAFiB;AAAA,MAERC,UAFQ;;AAIxB,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAAA;;AAC3B,0BAAAb,IAAI,CAACc,WAAL,wEAAkBC,GAAlB,IACId,EAAE,CACCe,UADH,CACc,OADd,EAEGC,GAFH,CAEOjB,IAAI,CAACc,WAAL,CAAiBC,GAFxB,EAGGG,GAHH,GAIGC,IAJH,CAIQ,UAACF,GAAD,EAAS;AACbP,MAAAA,OAAO,CAACO,GAAG,CAACG,IAAJ,EAAD,CAAP;AACAR,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAPH,CADJ,GASIA,UAAU,CAAC,KAAD,CATd;AAUD,GAXD;;AAaAhB,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMyB,WAAW,GAAGtB,QAAQ,CACzBC,IADiB,GAEjBsB,kBAFiB,CAEE;AAAA,aAAMT,cAAc,EAApB;AAAA,KAFF,CAApB;AAGA,WAAO;AAAA,aAAMQ,WAAW,EAAjB;AAAA,KAAP;AACD,GALQ,EAKN,EALM,CAAT;AAOA,SAAO;AACLZ,IAAAA,IAAI,EAAJA,IADK;AAELE,IAAAA,OAAO,EAAPA,OAFK;AAGLD,IAAAA,OAAO,EAAPA;AAHK,GAAP;AAKD;;IA7BQL,c","sourcesContent":["import React, { useState, useEffect, useContext, createContext } from \"react\";\nimport { firebase, auth, db } from \"../config/firebase\";\n\nconst authContext = createContext();\nexport function AuthProvider({ children }) {\n  const auth = useProvideAuth();\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\n}\nexport const useAuth = () => {\n  console.log(\"useAuth\");\n  return useContext(authContext);\n};\nfunction useProvideAuth() {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const getCurrentUser = () => {\n    auth.currentUser?.uid\n      ? db\n          .collection(\"Users\")\n          .doc(auth.currentUser.uid)\n          .get()\n          .then((doc) => {\n            setUser(doc.data());\n            setLoading(false);\n          })\n      : setLoading(false);\n  };\n\n  useEffect(() => {\n    const unsubscribe = firebase\n      .auth()\n      .onAuthStateChanged(() => getCurrentUser());\n    return () => unsubscribe();\n  }, []);\n\n  return {\n    user,\n    loading,\n    setUser,\n  };\n}\n"]},"metadata":{},"sourceType":"module"}