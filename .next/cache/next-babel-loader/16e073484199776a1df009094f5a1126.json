{"ast":null,"code":"import { db, auth } from \"@/config/firebase\";\nimport { useState, useEffect } from \"react\";\n\nconst useCart = id => {\n  const {\n    0: data,\n    1: setData\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  useEffect(() => {\n    async function fetchFromFirestore() {\n      var _auth$currentUser;\n\n      auth.currentUser && db.collection(\"Users\").doc((_auth$currentUser = auth.currentUser) === null || _auth$currentUser === void 0 ? void 0 : _auth$currentUser.uid).onSnapshot(function (doc) {\n        setData(doc.data().cart);\n      });\n    }\n\n    fetchFromFirestore();\n  }, [auth.currentUser]);\n  return {\n    data,\n    loading,\n    error\n  };\n};\n\nconst useCartOnce = id => {\n  const {\n    0: data,\n    1: setData\n  } = useState([]);\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(true);\n  const {\n    0: error,\n    1: setError\n  } = useState(null);\n  console.log(\"once\");\n  useEffect(() => {\n    var _auth$currentUser3;\n\n    async function fetchFromFirestore() {\n      var _auth$currentUser2;\n\n      console.log(\"once inner\");\n      db.collection(\"Users\").doc((_auth$currentUser2 = auth.currentUser) === null || _auth$currentUser2 === void 0 ? void 0 : _auth$currentUser2.uid).get().then(function (doc) {\n        setData(doc.data().cart);\n        setLoading(false);\n      }).catch(e => setError(e));\n    }\n\n    ((_auth$currentUser3 = auth.currentUser) === null || _auth$currentUser3 === void 0 ? void 0 : _auth$currentUser3.uid) && fetchFromFirestore();\n  }, [auth.currentUser]);\n  return {\n    data,\n    loading,\n    error\n  };\n};\n\nexport { useCart, useCartOnce };","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ASTRO/hooks/cart.hook.js"],"names":["db","auth","useState","useEffect","useCart","id","data","setData","loading","setLoading","error","setError","fetchFromFirestore","currentUser","collection","doc","uid","onSnapshot","cart","useCartOnce","console","log","get","then","catch","e"],"mappings":"AAAA,SAASA,EAAT,EAAaC,IAAb,QAAyB,mBAAzB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;;AAEA,MAAMC,OAAO,GAAIC,EAAD,IAAQ;AACtB,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBL,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACM,OAAD;AAAA,OAAUC;AAAV,MAAwBP,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM;AAAA,OAACQ,KAAD;AAAA,OAAQC;AAAR,MAAoBT,QAAQ,CAAC,IAAD,CAAlC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,mBAAeS,kBAAf,GAAoC;AAAA;;AAClCX,MAAAA,IAAI,CAACY,WAAL,IACEb,EAAE,CACCc,UADH,CACc,OADd,EAEGC,GAFH,sBAEOd,IAAI,CAACY,WAFZ,sDAEO,kBAAkBG,GAFzB,EAGGC,UAHH,CAGc,UAAUF,GAAV,EAAe;AACzBR,QAAAA,OAAO,CAACQ,GAAG,CAACT,IAAJ,GAAWY,IAAZ,CAAP;AACD,OALH,CADF;AAOD;;AAEDN,IAAAA,kBAAkB;AACnB,GAZQ,EAYN,CAACX,IAAI,CAACY,WAAN,CAZM,CAAT;AAcA,SAAO;AACLP,IAAAA,IADK;AAELE,IAAAA,OAFK;AAGLE,IAAAA;AAHK,GAAP;AAKD,CAxBD;;AA0BA,MAAMS,WAAW,GAAId,EAAD,IAAQ;AAC1B,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBL,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACM,OAAD;AAAA,OAAUC;AAAV,MAAwBP,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM;AAAA,OAACQ,KAAD;AAAA,OAAQC;AAAR,MAAoBT,QAAQ,CAAC,IAAD,CAAlC;AACAkB,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;AAEAlB,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACd,mBAAeS,kBAAf,GAAoC;AAAA;;AAClCQ,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AAEArB,MAAAA,EAAE,CAACc,UAAH,CAAc,OAAd,EACGC,GADH,uBACOd,IAAI,CAACY,WADZ,uDACO,mBAAkBG,GADzB,EAEGM,GAFH,GAGGC,IAHH,CAGQ,UAAUR,GAAV,EAAe;AACnBR,QAAAA,OAAO,CAACQ,GAAG,CAACT,IAAJ,GAAWY,IAAZ,CAAP;AACAT,QAAAA,UAAU,CAAC,KAAD,CAAV;AACD,OANH,EAOGe,KAPH,CAOUC,CAAD,IAAOd,QAAQ,CAACc,CAAD,CAPxB;AAQD;;AACD,2BAAAxB,IAAI,CAACY,WAAL,0EAAkBG,GAAlB,KAAyBJ,kBAAkB,EAA3C;AACD,GAdQ,EAcN,CAACX,IAAI,CAACY,WAAN,CAdM,CAAT;AAgBA,SAAO;AACLP,IAAAA,IADK;AAELE,IAAAA,OAFK;AAGLE,IAAAA;AAHK,GAAP;AAKD,CA3BD;;AA6BA,SAASN,OAAT,EAAkBe,WAAlB","sourcesContent":["import { db, auth } from \"@/config/firebase\";\nimport { useState, useEffect } from \"react\";\n\nconst useCart = (id) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchFromFirestore() {\n      auth.currentUser &&\n        db\n          .collection(\"Users\")\n          .doc(auth.currentUser?.uid)\n          .onSnapshot(function (doc) {\n            setData(doc.data().cart);\n          });\n    }\n\n    fetchFromFirestore();\n  }, [auth.currentUser]);\n\n  return {\n    data,\n    loading,\n    error,\n  };\n};\n\nconst useCartOnce = (id) => {\n  const [data, setData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  console.log(\"once\");\n\n  useEffect(() => {\n    async function fetchFromFirestore() {\n      console.log(\"once inner\");\n\n      db.collection(\"Users\")\n        .doc(auth.currentUser?.uid)\n        .get()\n        .then(function (doc) {\n          setData(doc.data().cart);\n          setLoading(false);\n        })\n        .catch((e) => setError(e));\n    }\n    auth.currentUser?.uid && fetchFromFirestore();\n  }, [auth.currentUser]);\n\n  return {\n    data,\n    loading,\n    error,\n  };\n};\n\nexport { useCart, useCartOnce };\n"]},"metadata":{},"sourceType":"module"}