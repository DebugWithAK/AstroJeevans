{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ASTRO\\\\components\\\\ProductCard\\\\product-card.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from \"react\";\nimport styles from \"./product.module.scss\";\nimport HeartIcon from \"@/icons/heart\";\nimport Link from \"next/link\";\nimport HeartFilled from \"@/icons/heart-filled\";\nimport { addFavorite, removeFavorite } from \"@/firebase/product\";\nimport { useRouter } from \"next/router\";\nimport { useAuth } from \"@/firebase/context\";\nexport default function ProductCard(_ref) {\n  _s();\n\n  var bgColor = _ref.bgColor,\n      id = _ref.id,\n      brand = _ref.brand,\n      name = _ref.name,\n      price = _ref.price,\n      sale_price = _ref.sale_price,\n      image = _ref.image,\n      favorite = _ref.favorite,\n      props = _objectWithoutProperties(_ref, [\"bgColor\", \"id\", \"brand\", \"name\", \"price\", \"sale_price\", \"image\", \"favorite\"]);\n\n  var _useState = useState(favorite),\n      isFavorite = _useState[0],\n      setFavorite = _useState[1];\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user,\n      loading = _useAuth.loading;\n\n  var router = useRouter();\n\n  var removeEvent = function removeEvent(id) {\n    removeFavorite(id);\n    setFavorite(false);\n  };\n\n  var addEvent = function addEvent(id) {\n    addFavorite(id);\n    setFavorite(true);\n  };\n\n  var favoriteEvent = function favoriteEvent() {\n    if (user && !loading) isFavorite ? removeEvent(id) : addEvent(id);else true && router.push(\"/login\");\n  };\n\n  var goToProduct = function goToProduct(target) {\n    console.log(target);\n    (target === null || target === void 0 ? void 0 : target.localName) !== \"button\" && true && router.push(\"/\".concat(id));\n  };\n\n  return __jsx(\"div\", _extends({\n    className: styles.container,\n    style: {\n      backgroundColor: bgColor || \"\"\n    },\n    onClick: function onClick(e) {\n      return goToProduct(e.target);\n    }\n  }, props, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }), __jsx(\"button\", {\n    className: styles.favContainer,\n    onClick: favoriteEvent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, isFavorite ? __jsx(HeartFilled, {\n    width: 16,\n    height: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }) : __jsx(HeartIcon, {\n    width: 16,\n    height: 16,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    className: styles.imageContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, image && __jsx(\"img\", {\n    className: styles.image,\n    src: image,\n    loading: \"lazy\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 19\n    }\n  })), __jsx(\"div\", {\n    className: styles.textContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: \"/brand/\".concat(brand),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, __jsx(\"h4\", {\n    className: styles.brandText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, brand)), __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, name), sale_price ? __jsx(\"div\", {\n    className: styles.priceContainer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: styles.discount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, (price - sale_price) / price * 100 | 0, \"%\"), __jsx(\"div\", {\n    className: styles.prices,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: styles.priceText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, price, \"$\"), __jsx(\"span\", {\n    className: styles.salePriceText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 15\n    }\n  }, sale_price, \"$\"))) : __jsx(\"span\", {\n    className: styles.price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, price || 0, \"$\")));\n}\n\n_s(ProductCard, \"F701BITfUS/8I8OCEhkCmgYdDTM=\", false, function () {\n  return [useAuth, useRouter];\n});\n\n_c = ProductCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductCard\");","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ASTRO/components/ProductCard/product-card.js"],"names":["React","useState","styles","HeartIcon","Link","HeartFilled","addFavorite","removeFavorite","useRouter","useAuth","ProductCard","bgColor","id","brand","name","price","sale_price","image","favorite","props","isFavorite","setFavorite","user","loading","router","removeEvent","addEvent","favoriteEvent","push","goToProduct","target","console","log","localName","container","backgroundColor","e","favContainer","imageContainer","textContainer","brandText","priceContainer","discount","prices","priceText","salePriceText"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\nimport styles from \"./product.module.scss\";\nimport HeartIcon from \"@/icons/heart\";\nimport Link from \"next/link\";\nimport HeartFilled from \"@/icons/heart-filled\";\nimport { addFavorite, removeFavorite } from \"@/firebase/product\";\nimport { useRouter } from \"next/router\";\nimport { useAuth } from \"@/firebase/context\";\n\nexport default function ProductCard({\n  bgColor,\n  id,\n  brand,\n  name,\n  price,\n  sale_price,\n  image,\n  favorite,\n  ...props\n}) {\n  const [isFavorite, setFavorite] = useState(favorite);\n\n  const { user, loading } = useAuth();\n\n  const router = useRouter();\n\n  const removeEvent = (id) => {\n    removeFavorite(id);\n    setFavorite(false);\n  };\n  const addEvent = (id) => {\n    addFavorite(id);\n    setFavorite(true);\n  };\n\n  const favoriteEvent = () => {\n    if (user && !loading) isFavorite ? removeEvent(id) : addEvent(id);\n    else typeof window !== \"undefined\" && router.push(\"/login\");\n  };\n\n  const goToProduct = (target) => {\n    console.log(target);\n    target?.localName !== \"button\" &&\n      typeof window !== \"undefined\" &&\n      router.push(`/${id}`);\n  };\n\n  return (\n    <div\n      className={styles.container}\n      style={{\n        backgroundColor: bgColor || \"\",\n      }}\n      onClick={(e) => goToProduct(e.target)}\n      {...props}\n    >\n      <button className={styles.favContainer} onClick={favoriteEvent}>\n        {isFavorite ? (\n          <HeartFilled width={16} height={16} />\n        ) : (\n          <HeartIcon width={16} height={16} />\n        )}\n      </button>\n      <div className={styles.imageContainer}>\n        {image && <img className={styles.image} src={image} loading=\"lazy\" />}\n      </div>\n      <div className={styles.textContainer}>\n        <Link href={`/brand/${brand}`}>\n          <h4 className={styles.brandText}>{brand}</h4>\n        </Link>\n        <h4>{name}</h4>\n        {sale_price ? (\n          <div className={styles.priceContainer}>\n            <div className={styles.discount}>\n              {(((price - sale_price) / price) * 100) | 0}%\n            </div>\n            <div className={styles.prices}>\n              <span className={styles.priceText}>{price}$</span>\n              <span className={styles.salePriceText}>{sale_price}$</span>\n            </div>\n          </div>\n        ) : (\n          <span className={styles.price}>{price || 0}$</span>\n        )}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}