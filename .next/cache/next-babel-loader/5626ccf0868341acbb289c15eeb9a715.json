{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ASTRO\\\\pages\\\\category\\\\[category].js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Head from \"next/head\";\nimport styles from \"./category.module.scss\";\nimport Layout from \"components/Layout\";\nimport { useAuth } from \"@/firebase/context\";\nimport { db } from \"@/config/firebase\";\nimport Button from \"@/components/FilterButton\";\nimport ProductCard from \"@/components/ProductCard/product-card\";\nvar getEmoji = {\n  clothing: \"ðŸ‘š\",\n  shoes: \"ðŸ‘ \",\n  accessories: \"ðŸ‘œ\",\n  activewear: \"ðŸ¤¸\",\n  gifts_and_living: \"ðŸŽ\",\n  inspiration: \"ðŸ’Ž\"\n};\nexport default function Category(_ref) {\n  _s();\n\n  var _this = this;\n\n  var data = _ref.data,\n      query = _ref.query;\n\n  var _useAuth = useAuth(),\n      user = _useAuth.user,\n      loading = _useAuth.loading;\n\n  console.log(user, loading);\n  var formattedName = query.category === \"gifts_and_living\" ? \"Gifts & Living\" : query.category[0].toUpperCase() + query.category.slice(1);\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.container,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, __jsx(Head, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, __jsx(\"title\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, \"Create Next App\"), __jsx(\"link\", {\n    rel: \"icon\",\n    href: \"/favicon.ico\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  })), __jsx(\"main\", {\n    className: styles.main,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: styles.header,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }, __jsx(\"h1\", {\n    className: styles.title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }\n  }, __jsx(\"span\", {\n    className: styles.emoji,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 15\n    }\n  }, getEmoji[query.category]), formattedName), __jsx(\"div\", {\n    className: styles.headerButtons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    type: \"sort\",\n    style: {\n      marginRight: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 15\n    }\n  }), __jsx(Button, {\n    count: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 15\n    }\n  }))), __jsx(\"div\", {\n    className: styles.products,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, !loading && data.map(function (product) {\n    var _user$favorites;\n\n    return __jsx(ProductCard, {\n      key: product.id,\n      id: product.id,\n      brand: product.brand,\n      name: product.product_name,\n      image: product.cover_photo,\n      price: product.price,\n      sale_price: product.sale_price,\n      favorite: user === null || user === void 0 ? void 0 : (_user$favorites = user.favorites) === null || _user$favorites === void 0 ? void 0 : _user$favorites.includes(product.id),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 19\n      }\n    });\n  })))));\n}\n\n_s(Category, \"EmJkapf7qiLC5Br5eCoEq4veZes=\", false, function () {\n  return [useAuth];\n});\n\n_c = Category;\n\nCategory.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var query, data, error;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            query = _ref2.query;\n            data = {};\n            error = {};\n            _context.next = 5;\n            return db.collection(\"Products\").where(\"category\", \"==\", query.category.toLowerCase()).get().then(function (querySnapshot) {\n              var products = querySnapshot.docs.map(function (doc) {\n                return _objectSpread({\n                  id: doc.id\n                }, doc.data());\n              });\n              data = products;\n            })[\"catch\"](function (e) {\n              return error = e;\n            });\n\n          case 5:\n            return _context.abrupt(\"return\", {\n              data: data,\n              error: error,\n              query: query\n            });\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nvar _c;\n\n$RefreshReg$(_c, \"Category\");","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ASTRO/pages/category/[category].js"],"names":["Head","styles","Layout","useAuth","db","Button","ProductCard","getEmoji","clothing","shoes","accessories","activewear","gifts_and_living","inspiration","Category","data","query","user","loading","console","log","formattedName","category","toUpperCase","slice","container","main","header","title","emoji","headerButtons","marginRight","products","map","product","id","brand","product_name","cover_photo","price","sale_price","favorites","includes","getInitialProps","error","collection","where","toLowerCase","get","then","querySnapshot","docs","doc","e"],"mappings":"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","sourcesContent":["import Head from \"next/head\";\n\nimport styles from \"./category.module.scss\";\n\nimport Layout from \"components/Layout\";\nimport { useAuth } from \"@/firebase/context\";\nimport { db } from \"@/config/firebase\";\nimport Button from \"@/components/FilterButton\";\nimport ProductCard from \"@/components/ProductCard/product-card\";\n\nconst getEmoji = {\n  clothing: \"ðŸ‘š\",\n  shoes: \"ðŸ‘ \",\n  accessories: \"ðŸ‘œ\",\n  activewear: \"ðŸ¤¸\",\n  gifts_and_living: \"ðŸŽ\",\n  inspiration: \"ðŸ’Ž\",\n};\n\nexport default function Category({ data, query }) {\n  const { user, loading } = useAuth();\n\n  console.log(user, loading);\n\n  const formattedName =\n    query.category === \"gifts_and_living\"\n      ? \"Gifts & Living\"\n      : query.category[0].toUpperCase() + query.category.slice(1);\n\n  return (\n    <Layout>\n      <div className={styles.container}>\n        <Head>\n          <title>Create Next App</title>\n          <link rel=\"icon\" href=\"/favicon.ico\" />\n        </Head>\n\n        <main className={styles.main}>\n          <div className={styles.header}>\n            <h1 className={styles.title}>\n              <span className={styles.emoji}>{getEmoji[query.category]}</span>\n              {formattedName}\n            </h1>\n            <div className={styles.headerButtons}>\n              <Button type=\"sort\" style={{ marginRight: 20 }} />\n              <Button count={0} />\n            </div>\n          </div>\n          <div className={styles.products}>\n            {!loading &&\n              data.map((product) => {\n                return (\n                  <ProductCard\n                    key={product.id}\n                    id={product.id}\n                    brand={product.brand}\n                    name={product.product_name}\n                    image={product.cover_photo}\n                    price={product.price}\n                    sale_price={product.sale_price}\n                    favorite={user?.favorites?.includes(product.id)}\n                  />\n                );\n              })}\n          </div>\n        </main>\n      </div>\n    </Layout>\n  );\n}\n\nCategory.getInitialProps = async function ({ query }) {\n  let data = {};\n  let error = {};\n\n  await db\n    .collection(\"Products\")\n    .where(\"category\", \"==\", query.category.toLowerCase())\n    .get()\n    .then(function (querySnapshot) {\n      const products = querySnapshot.docs.map(function (doc) {\n        return { id: doc.id, ...doc.data() };\n      });\n      data = products;\n    })\n    .catch((e) => (error = e));\n\n  return {\n    data,\n    error,\n    query,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}